import{e as o,d as m,j as s,i as c,L as h}from"./index-BLSWsbFh.js";import x from"./NotFoundPage-Bz87DV-4.js";import"./useTitle-CnsTpNOj.js";function j({rating:i}){const t=Math.floor(i),r=[];for(let e=0;e<t;e++)r.push(s.jsx("span",{children:"★"},`full-${e}`));for(let e=t;e<5;e++)r.push(s.jsx("span",{className:"dim-star",children:"★"},`dim-${e}`));return s.jsx("div",{className:"review-stars",children:r})}function N(){const{userId:i}=o(),{user:l,isAuthenticated:t}=m(),r=t&&l?.id===parseInt(i),e=r?l:c[i];if(!e)return s.jsx(x,{});const a=c[i];return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"profile-header",children:[s.jsx("div",{className:"profile-cover-image",children:s.jsx("img",{src:e.coverUrl||a.coverUrl,alt:"Cover"})}),s.jsxs("div",{className:"profile-avatar-container",children:[s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"profile-page-avatar"}),s.jsxs("div",{className:"profile-title",children:[s.jsx("h1",{children:e.name}),a?.isVerified&&s.jsx("p",{className:"verified-badge",children:"✔ Проверенная организация"})]}),r&&s.jsx(h,{to:"/profile/edit",className:"btn btn-secondary edit-profile-btn",children:"Редактировать"})]})]}),s.jsxs("section",{className:"profile-stats-bar",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:a.stats.offers}),s.jsx("span",{className:"stat-label",children:"Объявлений"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:a.stats.reviews}),s.jsx("span",{className:"stat-label",children:"Отзывов"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsxs("span",{className:"stat-value",children:[a.stats.rating," / 5"]}),s.jsx("span",{className:"stat-label",children:"Рейтинг"})]})]}),s.jsxs("main",{className:"profile-main-content",children:[s.jsxs("section",{className:"profile-about",children:[s.jsx("h2",{children:"О нас"}),s.jsx("p",{children:e.description||a.description})]}),s.jsxs("section",{className:"profile-reviews",children:[s.jsxs("h2",{children:["Отзывы (",a.reviews.length,")"]}),a.reviews.map((n,d)=>s.jsxs("div",{className:"review-card",children:[s.jsxs("div",{className:"review-header",children:[s.jsx("p",{className:"reviewer-name",children:n.from}),s.jsx(j,{rating:n.rating})]}),s.jsxs("p",{className:"review-comment",children:['"',n.comment,'"']})]},d))]})]})]})}export{N as default};
